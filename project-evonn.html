<!DOCTYPE html>
<html lang="en">
<head>
    <title>EvoNN - Project - Tianjian Qin</title>

    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Project: EvoNN">
    <meta name="author" content="Tianjian Qin">
    <link rel="shortcut icon" href="favicon.ico">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">

    <!-- FontAwesome JS -->
    <script defer src="assets/fontawesome/js/all.js"></script>

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/theme-1.css">

    <style>
        figure {
            max-width: 66.67%; /* Ensure it doesn't exceed 2/3 of the page width */
            min-width: 500px; /* Set the minimum width you desire */
            margin: 0 auto 0 0; /* Left align the block */
        }
        pre {
            max-width: 66.67%; /* Ensure it doesn't exceed 2/3 of the page width */
            min-width: 300px; /* Set the minimum width you desire */
            margin: 0 auto 0 0; /* Left align the block */
            overflow-x: auto; /* Enable horizontal scrolling if the content overflows */
            word-wrap: break-word; /* Break long words */
        }
        code {
            margin: 0px !Important;
            width: 100%;
            border-radius: 10px;
        }
    </style>

</head>

<body>

<header class="header text-center">
    <div class="force-overflow">
        <h1 class="blog-name pt-lg-4 mb-0"><a class="no-text-decoration" href="index.html">Tianjian Qin</a></h1>

        <nav class="navbar navbar-expand-lg navbar-dark" >

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div id="navigation" class="collapse navbar-collapse flex-column" >
                <div class="profile-section pt-3 pt-lg-0">
                    <img class="profile-image mb-3 rounded-circle mx-auto" src="assets/images/profile.png" alt="image" >

                    <div class="bio mb-3">Hi, my name is Tianjian. I'm a theoretical ecologist.</div><!--//bio-->
                    <ul class="social-list list-inline py-2 mx-auto">
                        <li class="list-inline-item"><a href="#"><i class="fab fa-twitter fa-fw"></i></a></li>
                        <li class="list-inline-item"><a href="#"><i class="fab fa-linkedin-in fa-fw"></i></a></li>
                        <li class="list-inline-item"><a href="#"><i class="fab fa-github-alt fa-fw"></i></a></li>
                        <li class="list-inline-item"><a href="#"><i class="fab fa-stack-overflow fa-fw"></i></a></li>
                        <li class="list-inline-item"><a href="#"><i class="fab fa-codepen fa-fw"></i></a></li>
                    </ul><!--//social-list-->
                    <hr>
                </div><!--//profile-section-->

                <ul class="navbar-nav flex-column text-start">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html"><i class="fas fa-user fa-fw me-2"></i>About Me</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="portfolio.html"><i class="fas fa-laptop-code fa-fw me-2"></i>Portfolio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="resume.html"><i class="fas fa-file-alt fa-fw me-2"></i>Resume</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="blog-home.html"><i class="fas fa-blog fa-fw me-2"></i>Blog</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html"><i class="fas fa-envelope-open-text fa-fw me-2"></i>Contact</a>
                    </li>
                </ul>

                <div class="my-2">
                    <a class="btn btn-primary" href="contact.html" target="_blank"><i class="fas fa-paper-plane me-2"></i>Contact Me</a>
                </div>


                <div class="dark-mode-toggle text-center w-100">
                    <hr class="mb-4">
                    <h4 class="toggle-name mb-3 "><i class="fas fa-adjust me-1"></i>Dark Mode</h4>

                    <input class="toggle" id="darkmode" type="checkbox">
                    <label class="toggle-btn mx-auto mb-0" for="darkmode"></label>

                </div><!--//dark-mode-toggle-->
            </div>
        </nav>
    </div><!--//force-overflow-->
</header>

<div class="main-wrapper">
    <section class="cta-section theme-bg-light py-5">
        <div class="container single-col-max-width">
            <h2 class="heading text-center">Neural Network Parameter Estimation for Phylogenetic Trees</h2>
        </div><!--//container-->
    </section>
    <section class="project px-3 py-5 p-md-5">
        <div class="container">
            <div class="project-meta theme-bg-light p-4">
                <div class="row g-4 g-lg-5">
                    <div class="col-md-5 col-lg-4 col-xxl-3 d-none d-md-block">
                        <img class="project-thumb img-fluid rounded" src="assets/images/project/project-evonn.webp" alt="">
                    </div><!--//col-->
                    <div class="col-12 col-md-7 col-lg-8 col-xxl-9">
                        <div class="client-info">
                            <h3 class="client-name font-weight-bold mb-4">EvoNN</h3>
                            <ul class="client-meta list-unstyled">
                                <li class="mb-2"><i class="fa-solid fa-code me-2"></i><strong>Language:</strong> <i class="fa-brands fa-python"></i> Python, <i class="fa-brands fa-r-project"></i> R</li>
                                <li class="mb-2"><i class="fa-solid fa-code-commit me-2"></i><strong>Version:</strong> 0.2.0 <i class="fa-solid fa-flask"></i></li>
                                <li class="mb-2"><i class="fas fa-link fa-fw me-2"></i><strong>Website:</strong> <a class="theme-link" href="#">https://evolandeco.github.io/EvoNN/</a></li>
                            </ul>
                            <div class="client-bio mb-4">This R package contains functions to estimate phylogenetic tree parameters from pre-trained neural networks and plot bootstrap posterior distributions of the estimates.</div>
                        </div><!--//client-info-->
                    </div><!--//col-->
                </div><!--//row-->
            </div><!--//project-meta-->
            <div class="project-sections py-5">
                <div class="project-section mb-5">
                    <h3 class="project-section-title mb-3">How to install</h3>
                    <p>This package illustrates how to integrate R with pre-trained neural network models for phylogenetic tree parameter estimation. Only R interface is provided in the package, although utilized both R and Python.</p>
                    <h5>Step 1: Install R and Python</h5>
                    <p>R (>=4.2.1) and Python (>=3.10) should be installed correctly. It is recommended to not alter the default settings of the installers.</p>
                    <h5>Step 2: Install R packages</h5>
                    <pre>
                        <code class="r">install.packages("devtools")
remotes::install_github("EvoLandEco/treestats")
remotes::install_github("EvoLandEco/EvoNN")</code>
                    </pre>
                    <p>A virtual environment “EvoNN” with necessary dependencies will also be installed in your home directory. <br>This may take a while. <em>Wait for the completion message.</em></p>
                </div><!--//project-section-->

                <div class="project-section mb-5">
                    <h3 class="project-section-title">How to use</h3>
                    <h5>Step 1: Prepare the phylogeny</h5>
                    <p><a href="https://github.com/user-attachments/files/16026922/Columbiformes.zip">Click Here</a> to download an example phylogeny by <a href="https://data.mendeley.com/datasets/p6hm5w8s3b/2">Valente et al. 2020 Nature</a>, unzip to your favorite path.</p>
                    <pre>
                        <code class="r">library(EvoNN)
# Set the path to the tree file
path <- "your_path/Columbiformes.tre"
# Read in tree file if it is in Newick format, e.g. the example phylogeny
test_tre <- ape::read.tree(path)
# Otherwise, use the following to read in Nexus format
# test_tre <- ape::read.nexus(path)</code>
                    </pre>
                    <h5>Step 2: Estimate parameters</h5>
                    <p>The function estimates phylogenetic parameters from a phylo object.</p>
                    <pre>
                        <code class="r">result <- nn_estimate(test_tre, scenario = "DDD") </code>
                    </pre>
                    <h5>Step 3: Bootstrap uncertainty</h5>
                    <p>Some parameter settings may take too long or fail consistently. It is recommended to set a timeout limit.</p>
                    <pre>
                        <code class="r">bootstrap <- nn_bootstrap_uncertainty(result, n = 100, timeout = 30)</code>
                    </pre>
                    <h5>Step 4: Plot uncertainty</h5>
                    <p>The neural network estimates are indicated by the red dashed lines and the blue values. Their uncertainties are represented by the density curves of bootstrap results.</p>
                    <pre><code class="r">nn_plot_bootstrap(bootstrap, result, scenario = "DDD")</code>
                    </pre>
                    <h5>Output:</h5>
                    <figure class="figure-container">
                        <img src="https://github.com/EvoLandEco/EvoNN/assets/57348932/a98d521a-63a4-47d0-84c6-ccaaed74d6ea" alt="Bootstrap">
                    </figure>
                </div><!--//project-section-->

                <div class="project-section mb-5">
                    <h3>Known Issue</h3>
                    <ul>
                        <li>
                            <p>Error messages may appear when you use <code>library(EvoNN)</code> to load the package right after installation. Try to fully close your IDE (e.g. R Studio, VS Code, or DataSpell, the software you use for R coding), then open it again. Re-run the example code, it should work this time.</p>
                        </li>
                        <li>
                            <p>Mac users might have to install cmake to build some dependencies from source code. Run <code>brew install --cask cmake</code> in your terminal to install it.</p>
                        </li>
                    </ul>
                </div><!--//project-section-->

                <div class="project-section mb-5">

                    <h3>Important Note</h3>
                    <p>The package will automatically set up a Python virtual environment named “EvoNN” in your home directory during installation, this may take a while. A sanity check for this virtual environment will be performed every time <code>library(EvoNN)</code> is called. If this environment is altered, the package will try to reinstall mismatched dependencies.</p>
                    <p>You can manually remove this virtual environment by running the following code in R:</p>
                    <pre><code class="r">reticulate::virtualenv_remove("EvoNN")</code>
                    </pre>
                    <p>After removal, the package may fail to fix the environment on load unless you fully close all R sessions and restart.</p>
                </div><!--//project-section-->
            </div>
        </div>
    </section>

    <section class="promo-section theme-bg-light py-5 text-center">
        <div class="container single-col-max-width">
            <h2 class="title">Have a question?</h2>
            <p>Feel free to click on the button below to send me a message.</p>
            <div class="text-center"><a class="btn btn-primary" href="contact.html" target="_blank"><i class="fas fa-paper-plane me-2"></i>Contact Me</a></div>
        </div><!--//container-->
    </section><!--//promo-section-->

    <footer class="footer text-center py-4">
        <small class="copyright">Copyright &copy;Tianjian Qin</small>
    </footer>

</div><!--//main-wrapper-->

<!-- *****CONFIGURE STYLE (REMOVE ON YOUR PRODUCTION SITE)****** -->
<div id="config-panel" class="config-panel config-panel-hide d-none d-lg-block">
    <div class="panel-inner">
        <a id="config-trigger" class="config-trigger text-center" href="#"><i class="fas fa-cog mx-auto" data-fa-transform="down-6" ></i></a>
        <h5 class="panel-title">Choose Colour</h5>
        <ul id="color-options" class="list-inline mb-0">
            <li class="theme-1 active list-inline-item"><a data-style="assets/css/theme-1.css" href="#"></a></li>
            <li class="theme-2  list-inline-item"><a data-style="assets/css/theme-2.css" href="#"></a></li>
            <li class="theme-3  list-inline-item"><a data-style="assets/css/theme-3.css" href="#"></a></li>
            <li class="theme-4  list-inline-item"><a data-style="assets/css/theme-4.css" href="#"></a></li>
            <li class="theme-5  list-inline-item"><a data-style="assets/css/theme-5.css" href="#"></a></li>
            <li class="theme-6  list-inline-item"><a data-style="assets/css/theme-6.css" href="#"></a></li>
            <li class="theme-7  list-inline-item"><a data-style="assets/css/theme-7.css" href="#"></a></li>
            <li class="theme-8  list-inline-item"><a data-style="assets/css/theme-8.css" href="#"></a></li>
            <li class="theme-9  list-inline-item"><a data-style="assets/css/theme-9.css" href="#"></a></li>
            <li class="theme-10  list-inline-item"><a data-style="assets/css/theme-10.css" href="#"></a></li>
        </ul>
        <a id="config-close" class="close" href="#"><i class="fa fa-times-circle"></i></a>
    </div><!--//panel-inner-->
</div><!--//configure-panel-->

<!-- Javascript -->
<script src="assets/plugins/popper.min.js"></script>
<script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>

<!-- Plugin CSS -->
<link rel="stylesheet" href="assets/plugins/highlight/styles/monokai-sublime.min.css">
<link
        rel="stylesheet"
        href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css"
/>
<script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<script>hljs.addPlugin(new CopyButtonPlugin());</script>

<!-- Dark Mode -->
<script src="assets/plugins/js-cookie.min.js"></script>
<script src="assets/js/dark-mode.js"></script>

<!-- Style Switcher (REMOVE ON YOUR PRODUCTION SITE) -->
<script src="assets/js/demo/style-switcher.js"></script>


</body>
</html>

